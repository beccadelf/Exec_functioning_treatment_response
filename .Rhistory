ft_t_test,
path = "Z:/Projekte_Meinke/Old_projects/Labrotation_Rebecca/Submission/Tables/t-test_Responder_Nonresponder.docx",
pr_section = format_flextable_portrait)
View(t_test_table)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(dplyr)
library(tidyr)
library(pander)
library(effsize)
library(pwr)
library(gtsummary)
library(gt)
library(car)
library(flextable)
library(officer)
# User-defined functions
source("../Useful_functions.R")
format_flextable_portrait <- flextable_settings(word_orientation = "portrait")
format_flextable_landscape <- flextable_settings(word_orientation = "landscape")
basic_path = params$input_data_path
data_HC <- read.csv(file.path(basic_path,"Data_HC.csv"))
data_Pat_pre <- read.csv(file.path(basic_path,"Data_Patients_Pre.csv"))
## 1. Merge patients pre and controls
Patients_vs_HC <- rbind(data_Pat_pre, data_HC)
## 2. Reduce dataset to executive functions of interest (BIS columns and SSRT)
BIS_columns <- colnames(Patients_vs_HC)[grep("BIS", colnames(Patients_vs_HC))]
BIS_columns <- BIS_columns[BIS_columns != "T1_BAT_BIS_11_score"] # BIS-11 is a questionnaire
imp_columns <- c(BIS_columns,"SSRT")
Patients_vs_HC_imp <- Patients_vs_HC[,c("Subject","Gruppe",imp_columns)]
## 3. Add confounds (Alter, Geschlecht, Abschluss)
Patients_vs_HC_imp_conf <- merge(Patients_vs_HC[,c("Subject","Alter","Geschlecht","Abschluss")], Patients_vs_HC_imp, by = "Subject")
ttest_results_columns <- c(
"group_mean_Patients", "sd_Patients",
"group_mean_HC", "sd_HC",
"df", "t_statistic", "p_value", "cohen_d", "power"
)
df_results <- data.frame(matrix(NA, nrow = length(imp_columns), ncol = length(ttest_results_columns)))
View(df_results)
colnames(df_results) <- ttest_results_columns
rownames(df_results) <- imp_columns
p_values_raw <- numeric(length(imp_columns))
group0 <- na.omit(Patients_vs_HC_imp[Patients_vs_HC_imp[["Gruppe"]] == 0, "NumberLetter_BIS_Repeat"])
group1 <- na.omit(Patients_vs_HC_imp[Patients_vs_HC_imp[["Gruppe"]] == 1, "NumberLetter_BIS_Repeat"])
results <- t.test(group0, group1, paired = FALSE, var.equal = FALSE)
View(results)
test <- round(results$parameter["df"], 2)
class(test)
test
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(dplyr)
library(tidyr)
library(pander)
library(effsize)
library(pwr)
library(gtsummary)
library(gt)
library(car)
library(flextable)
library(officer)
# User-defined functions
source("../Useful_functions.R")
format_flextable_portrait <- flextable_settings(word_orientation = "portrait")
format_flextable_landscape <- flextable_settings(word_orientation = "landscape")
basic_path = params$input_data_path
data_HC <- read.csv(file.path(basic_path,"Data_HC.csv"))
data_Pat_pre <- read.csv(file.path(basic_path,"Data_Patients_Pre.csv"))
## 1. Merge patients pre and controls
Patients_vs_HC <- rbind(data_Pat_pre, data_HC)
## 2. Reduce dataset to executive functions of interest (BIS columns and SSRT)
BIS_columns <- colnames(Patients_vs_HC)[grep("BIS", colnames(Patients_vs_HC))]
BIS_columns <- BIS_columns[BIS_columns != "T1_BAT_BIS_11_score"] # BIS-11 is a questionnaire
imp_columns <- c(BIS_columns,"SSRT")
Patients_vs_HC_imp <- Patients_vs_HC[,c("Subject","Gruppe",imp_columns)]
## 3. Add confounds (Alter, Geschlecht, Abschluss)
Patients_vs_HC_imp_conf <- merge(Patients_vs_HC[,c("Subject","Alter","Geschlecht","Abschluss")], Patients_vs_HC_imp, by = "Subject")
# Ensure "Gruppe" is treated as a factor
Patients_vs_HC_imp$Gruppe <- as.factor(Patients_vs_HC_imp$Gruppe)
# # Function to perform Levene's test on multiple columns
# levene_test_mult_cols <- function(df_basis, cols) {
#   df <- data.frame(p_value = numeric(length(cols)))
#   rownames(df) <- cols
#
#   for (i in seq_along(cols)) {
#     col <- cols[i]
#     # Perform Levene's test, treating 'Gruppe' as a factor
#     levene_result <- car::leveneTest(df_basis[[col]] ~ df_basis[["Gruppe"]])
#     df[col, "p_value"] <- round(levene_result[1, "Pr(>F)"], 4)
#   }
#
#   return(df)
# }
# Perform Levene's test for homogeneity of variance
#levene_test_table <- levene_test_mult_cols(df_basis = Patients_vs_HC_imp, cols = imp_columns)
levene_test_table <- levene_test_mult_cols(df_basis = Patients_vs_HC_imp, cols = imp_columns, grouping_variable = "Gruppe")
pander(levene_test_table, style = "rmarkdown", fontsize = "tiny")
levene_test_table
ttest_results_columns <- c(
"group_mean_Patients", "sd_Patients",
"group_mean_HC", "sd_HC",
"df", "t_statistic", "p_value", "cohen_d", "power"
)
t_test_table <- t_test_mult_cols(df_basis = Patients_vs_HC_imp, cols = imp_columns, df_results_columns = ttest_results_columns, grouping_variable = "Gruppe")
pander(t_test_table, style = "rmarkdown", fontsize = "tiny")
t_test_table
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(dplyr)
library(tidyr)
library(pander)
library(effsize)
library(pwr)
library(gtsummary)
library(gt)
library(car)
library(flextable)
library(officer)
# User-defined functions
source("../Useful_functions.R")
format_flextable_portrait <- flextable_settings(word_orientation = "portrait")
format_flextable_landscape <- flextable_settings(word_orientation = "landscape")
basic_path = "Z:/Projekte_Meinke/Old_projects/Labrotation_Rebecca/0_Datapreparation/Daten_Gruppenvergleich/With_wrong_responses/outliers-removed"
param_suffix = basename(basic_path)
data_Pat_pre <- read.csv(file.path(basic_path,"Data_Patients_Pre.csv"))
data_Pat_pre_clean <- data_Pat_pre[!is.na(data_Pat_pre$Response),]
# Ensure "Response" is treated as a factor
data_Pat_pre_clean$Response <- as.factor(data_Pat_pre_clean$Response)
# Define the columns for which to perform the test (i.e., task performance measures)
imp_columns <- c("NumberLetter_BIS_Repeat", "NumberLetter_BIS_Switch",
"NumberLetter_BIS_Diff_Score", "Stroop_BIS_Congruent",
"Stroop_BIS_Incongruent", "Stroop_BIS_Diff_Score",
"TwoBack_BIS_Foil", "TwoBack_BIS_Target", "TwoBack_BIS_Total",
"SSRT")
#levene_test_table <- levene_test_mult_cols(df_basis = data_Pat_pre_clean, cols = imp_columns)
levene_test_table <- levene_test_mult_cols(df_basis = data_Pat_pre_clean, cols = imp_columns, grouping_variable = "Response")
pander(levene_test_table, style = "rmarkdown", fontsize = "tiny")
levene_test_table
# Run all scripts needed for the analysis sequentially
# 0. Packages and Paths
library(rmarkdown)
library(rstudioapi)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# Define the base path
base_path <- "Y:/PsyThera/Projekte_Meinke/Old_projects/Labrotation_Rebecca/0_Datapreparation"
parent_path <- dirname(base_path)
# 1. Taskdata_preprocessing-Skript
# Define the parameters you want to iterate over
RT_trimming_options <- c(TRUE,FALSE)
RT_remove_wrong_options <- c(TRUE,FALSE)
# Create a function to generate the filename based on parameters
generate_filename <- function(RT_trimming, RT_remove_wrong) {
trimming_text <- ifelse(RT_trimming == TRUE, "trimmed", "not_trimmed")
remove_wrong_text <- ifelse(RT_remove_wrong == TRUE, "wrong_removed", "not_removed")
#trimmed_suffix <- ifelse(RT_trimming == "TRUE", "RT_trimmed", "not_trimmed")
#wrong_suffix <- ifelse(RT_remove_wrong == "TRUE", "RT_wrong_removed", "not_removed")
#path = file.path(basic_results_path,paste(trimmed_suffix,wrong_suffix,sep = "_"),"raw_data")
paste0("Calculate_mean_RT_and_accuracy_", trimming_text,"_", remove_wrong_text, ".html")
}
# Loop over the parameter sets and render the RMarkdown file for each set
for (RT_trimming in RT_trimming_options) {
for (RT_remove_wrong in RT_remove_wrong_options){
if ((RT_trimming == TRUE && RT_remove_wrong == TRUE) ||
(RT_trimming == FALSE && RT_remove_wrong == FALSE)) {
params_list <- list(RT_trimming = RT_trimming, RT_remove_wrong =  RT_remove_wrong )
output_filename <- generate_filename(RT_trimming, RT_remove_wrong)
rmarkdown::render(
input <- file.path(base_path, "Taskdata_Preprocessing_CM - Till edit.Rmd"),
output_file = output_filename,
params = params_list,
envir = new.env()
)
cat("Generated file:", output_filename, "/n")
}
}
}
# Run all scripts needed for the analysis sequentially
# 0. Packages and Paths
library(rmarkdown)
library(rstudioapi)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# Define the base path
base_path <- "Y:/PsyThera/Projekte_Meinke/Old_projects/Labrotation_Rebecca/0_Datapreparation"
parent_path <- dirname(base_path)
# 1. Taskdata_preprocessing-Skript
# Define the parameters you want to iterate over
RT_trimming_options <- c(TRUE,FALSE)
RT_remove_wrong_options <- c(TRUE,FALSE)
# Create a function to generate the filename based on parameters
generate_filename <- function(RT_trimming, RT_remove_wrong) {
trimming_text <- ifelse(RT_trimming == TRUE, "trimmed", "not_trimmed")
remove_wrong_text <- ifelse(RT_remove_wrong == TRUE, "wrong_removed", "not_removed")
#trimmed_suffix <- ifelse(RT_trimming == "TRUE", "RT_trimmed", "not_trimmed")
#wrong_suffix <- ifelse(RT_remove_wrong == "TRUE", "RT_wrong_removed", "not_removed")
#path = file.path(basic_results_path,paste(trimmed_suffix,wrong_suffix,sep = "_"),"raw_data")
paste0("Calculate_mean_RT_and_accuracy_", trimming_text,"_", remove_wrong_text, ".html")
}
# Loop over the parameter sets and render the RMarkdown file for each set
for (RT_trimming in RT_trimming_options) {
for (RT_remove_wrong in RT_remove_wrong_options){
if ((RT_trimming == TRUE && RT_remove_wrong == TRUE) ||
(RT_trimming == FALSE && RT_remove_wrong == FALSE)) {
params_list <- list(RT_trimming = RT_trimming, RT_remove_wrong =  RT_remove_wrong )
output_filename <- generate_filename(RT_trimming, RT_remove_wrong)
rmarkdown::render(
input <- file.path(base_path, "Taskdata_Preprocessing_CM_TA.Rmd"),
output_file = output_filename,
params = params_list,
envir = new.env()
)
cat("Generated file:", output_filename, "/n")
}
}
}
# Run all scripts needed for the analysis sequentially
# 0. Packages and Paths
library(rmarkdown)
library(rstudioapi)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# Run all scripts needed for the analysis sequentially
# 0. Packages and Paths
library(rmarkdown)
library(rstudioapi)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# Define the base path
base_path <- "Y:/PsyThera/Projekte_Meinke/Old_projects/Labrotation_Rebecca/0_Datapreparation"
parent_path <- dirname(base_path)
# 1. Taskdata_preprocessing-Skript
# Define the parameters you want to iterate over
RT_trimming_options <- c(TRUE,FALSE)
RT_remove_wrong_options <- c(TRUE,FALSE)
# Create a function to generate the filename based on parameters
generate_filename <- function(RT_trimming, RT_remove_wrong) {
trimming_text <- ifelse(RT_trimming == TRUE, "trimmed", "not_trimmed")
remove_wrong_text <- ifelse(RT_remove_wrong == TRUE, "wrong_removed", "not_removed")
#trimmed_suffix <- ifelse(RT_trimming == "TRUE", "RT_trimmed", "not_trimmed")
#wrong_suffix <- ifelse(RT_remove_wrong == "TRUE", "RT_wrong_removed", "not_removed")
#path = file.path(basic_results_path,paste(trimmed_suffix,wrong_suffix,sep = "_"),"raw_data")
paste0("Calculate_mean_RT_and_accuracy_", trimming_text,"_", remove_wrong_text, ".html")
}
# Loop over the parameter sets and render the RMarkdown file for each set
for (RT_trimming in RT_trimming_options) {
for (RT_remove_wrong in RT_remove_wrong_options){
if ((RT_trimming == TRUE && RT_remove_wrong == TRUE) ||
(RT_trimming == FALSE && RT_remove_wrong == FALSE)) {
params_list <- list(RT_trimming = RT_trimming, RT_remove_wrong =  RT_remove_wrong )
output_filename <- generate_filename(RT_trimming, RT_remove_wrong)
rmarkdown::render(
input <- file.path(base_path, "Taskdata_Preprocessing_CM_TA.Rmd"),
output_file = output_filename,
params = params_list,
envir = new.env()
)
cat("Generated file:", output_filename, "/n")
}
}
}
# BIS-Script
outliers_removed_options <- c("yes", "no")
input_data_path_options <- c(
file.path(base_path, "Daten_Gruppenvergleich/new/RT_trimmed_RT_wrong_removed"),
file.path(base_path, "Daten_Gruppenvergleich/new/not_trimmed_not_removed")
)
# Create a function to generate the filename based on parameters
generate_filename_out <- function(outliers_removed) {
outliers_text <- ifelse(outliers_removed == "yes", "outliers-removed", "outliers-not-removed")
paste0("Calculate_BIS_", outliers_text,".html")
}
for (outliers_removed in outliers_removed_options) {
for (input_data_path in input_data_path_options){
params_list <- list(outliers_removed = outliers_removed, input_data_path = input_data_path)
output_filename <- generate_filename_out(outliers_removed)
outliers_text <- ifelse(outliers_removed == "yes", "outliers-removed", "outliers-not-removed")
output_path = file.path(input_data_path, "BIS", outliers_text, output_filename)
rmarkdown::render(
input <- file.path(base_path, "EF_scores_calculation_correct_TA.Rmd"),
output_file = output_path,
params = params_list,
envir = new.env()
)
cat("Generated file:", output_filename, "/n")
}
}
# Run all scripts needed for the analysis sequentially
# 0. Packages and Paths
library(rmarkdown)
library(rstudioapi)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# Define the base path
base_path <- "Y:/PsyThera/Projekte_Meinke/Old_projects/Labrotation_Rebecca/0_Datapreparation"
parent_path <- dirname(base_path)
# 1. Taskdata_preprocessing-Skript
# Define the parameters you want to iterate over
RT_trimming_options <- c(TRUE,FALSE)
RT_remove_wrong_options <- c(TRUE,FALSE)
# Create a function to generate the filename based on parameters
generate_filename <- function(RT_trimming, RT_remove_wrong) {
trimming_text <- ifelse(RT_trimming == TRUE, "trimmed", "not_trimmed")
remove_wrong_text <- ifelse(RT_remove_wrong == TRUE, "wrong_removed", "not_removed")
#trimmed_suffix <- ifelse(RT_trimming == "TRUE", "RT_trimmed", "not_trimmed")
#wrong_suffix <- ifelse(RT_remove_wrong == "TRUE", "RT_wrong_removed", "not_removed")
#path = file.path(basic_results_path,paste(trimmed_suffix,wrong_suffix,sep = "_"),"raw_data")
paste0("Calculate_mean_RT_and_accuracy_", trimming_text,"_", remove_wrong_text, ".html")
}
# Loop over the parameter sets and render the RMarkdown file for each set
for (RT_trimming in RT_trimming_options) {
for (RT_remove_wrong in RT_remove_wrong_options){
if ((RT_trimming == TRUE && RT_remove_wrong == TRUE) ||
(RT_trimming == FALSE && RT_remove_wrong == FALSE)) {
params_list <- list(RT_trimming = RT_trimming, RT_remove_wrong =  RT_remove_wrong )
output_filename <- generate_filename(RT_trimming, RT_remove_wrong)
rmarkdown::render(
input <- file.path(base_path, "Taskdata_Preprocessing_CM_TA.Rmd"),
output_file = output_filename,
params = params_list,
envir = new.env()
)
cat("Generated file:", output_filename, "/n")
}
}
}
# BIS-Script
outliers_removed_options <- c("yes", "no")
input_data_path_options <- c(
file.path(base_path, "Daten_Gruppenvergleich/new/RT_trimmed_RT_wrong_removed"),
file.path(base_path, "Daten_Gruppenvergleich/new/not_trimmed_not_removed")
)
# Create a function to generate the filename based on parameters
generate_filename_out <- function(outliers_removed) {
outliers_text <- ifelse(outliers_removed == "yes", "outliers-removed", "outliers-not-removed")
paste0("Calculate_BIS_", outliers_text,".html")
}
for (outliers_removed in outliers_removed_options) {
for (input_data_path in input_data_path_options){
params_list <- list(outliers_removed = outliers_removed, input_data_path = input_data_path)
output_filename <- generate_filename_out(outliers_removed)
outliers_text <- ifelse(outliers_removed == "yes", "outliers-removed", "outliers-not-removed")
output_path = file.path(input_data_path, "BIS", outliers_text, output_filename)
rmarkdown::render(
input <- file.path(base_path, "EF_scores_calculation_correct_TA.Rmd"),
output_file = output_path,
params = params_list,
envir = new.env()
)
cat("Generated file:", output_filename, "/n")
}
}
# Run all scripts needed for the analysis sequentially
# 0. Packages and Paths
library(rmarkdown)
library(rstudioapi)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# Define the base path
base_path <- "Y:/PsyThera/Projekte_Meinke/Old_projects/Labrotation_Rebecca/0_Datapreparation"
parent_path <- dirname(base_path)
# 1. Taskdata_preprocessing-Skript
# Define the parameters you want to iterate over
RT_trimming_options <- c(TRUE,FALSE)
RT_remove_wrong_options <- c(TRUE,FALSE)
# Create a function to generate the filename based on parameters
generate_filename <- function(RT_trimming, RT_remove_wrong) {
trimming_text <- ifelse(RT_trimming == TRUE, "trimmed", "not_trimmed")
remove_wrong_text <- ifelse(RT_remove_wrong == TRUE, "wrong_removed", "not_removed")
#trimmed_suffix <- ifelse(RT_trimming == "TRUE", "RT_trimmed", "not_trimmed")
#wrong_suffix <- ifelse(RT_remove_wrong == "TRUE", "RT_wrong_removed", "not_removed")
#path = file.path(basic_results_path,paste(trimmed_suffix,wrong_suffix,sep = "_"),"raw_data")
paste0("Calculate_mean_RT_and_accuracy_", trimming_text,"_", remove_wrong_text, ".html")
}
# Loop over the parameter sets and render the RMarkdown file for each set
for (RT_trimming in RT_trimming_options) {
for (RT_remove_wrong in RT_remove_wrong_options){
if ((RT_trimming == TRUE && RT_remove_wrong == TRUE) ||
(RT_trimming == FALSE && RT_remove_wrong == FALSE)) {
params_list <- list(RT_trimming = RT_trimming, RT_remove_wrong =  RT_remove_wrong )
output_filename <- generate_filename(RT_trimming, RT_remove_wrong)
rmarkdown::render(
input <- file.path(base_path, "Taskdata_Preprocessing_CM_TA.Rmd"),
output_file = output_filename,
params = params_list,
envir = new.env()
)
cat("Generated file:", output_filename, "/n")
}
}
}
# BIS-Script
outliers_removed_options <- c("yes", "no")
input_data_path_options <- c(
file.path(base_path, "Daten_Gruppenvergleich/new/trimmed_wrong_removed"),
file.path(base_path, "Daten_Gruppenvergleich/new/not_trimmed_not_removed")
)
# Create a function to generate the filename based on parameters
generate_filename_out <- function(outliers_removed) {
outliers_text <- ifelse(outliers_removed == "yes", "outliers-removed", "outliers-not-removed")
paste0("Calculate_BIS_", outliers_text,".html")
}
for (outliers_removed in outliers_removed_options) {
for (input_data_path in input_data_path_options){
params_list <- list(outliers_removed = outliers_removed, input_data_path = input_data_path)
output_filename <- generate_filename_out(outliers_removed)
outliers_text <- ifelse(outliers_removed == "yes", "outliers-removed", "outliers-not-removed")
output_path = file.path(input_data_path, "BIS", outliers_text, output_filename)
rmarkdown::render(
input <- file.path(base_path, "EF_scores_calculation_correct_TA.Rmd"),
output_file = output_path,
params = params_list,
envir = new.env()
)
cat("Generated file:", output_filename, "/n")
}
}
# Run all scripts needed for the analysis sequentially
# 0. Packages and Paths
library(rmarkdown)
library(rstudioapi)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# Define the base path
base_path <- "Y:/PsyThera/Projekte_Meinke/Old_projects/Labrotation_Rebecca/0_Datapreparation"
parent_path <- dirname(base_path)
# 1. Taskdata_preprocessing-Skript
# Define the parameters you want to iterate over
RT_trimming_options <- c(TRUE,FALSE)
RT_remove_wrong_options <- c(TRUE,FALSE)
# Create a function to generate the filename based on parameters
generate_filename <- function(RT_trimming, RT_remove_wrong) {
trimming_text <- ifelse(RT_trimming == TRUE, "trimmed", "not_trimmed")
remove_wrong_text <- ifelse(RT_remove_wrong == TRUE, "wrong_removed", "not_removed")
#trimmed_suffix <- ifelse(RT_trimming == "TRUE", "RT_trimmed", "not_trimmed")
#wrong_suffix <- ifelse(RT_remove_wrong == "TRUE", "RT_wrong_removed", "not_removed")
#path = file.path(basic_results_path,paste(trimmed_suffix,wrong_suffix,sep = "_"),"raw_data")
paste0("Calculate_mean_RT_and_accuracy_", trimming_text,"_", remove_wrong_text, ".html")
}
# Loop over the parameter sets and render the RMarkdown file for each set
for (RT_trimming in RT_trimming_options) {
for (RT_remove_wrong in RT_remove_wrong_options){
if ((RT_trimming == TRUE && RT_remove_wrong == TRUE) ||
(RT_trimming == FALSE && RT_remove_wrong == FALSE)) {
params_list <- list(RT_trimming = RT_trimming, RT_remove_wrong =  RT_remove_wrong )
output_filename <- generate_filename(RT_trimming, RT_remove_wrong)
rmarkdown::render(
input <- file.path(base_path, "Taskdata_Preprocessing_CM_TA.Rmd"),
output_file = output_filename,
params = params_list,
envir = new.env()
)
cat("Generated file:", output_filename, "/n")
}
}
}
# BIS-Script
outliers_removed_options <- c("yes", "no")
input_data_path_options <- c(
file.path(base_path, "Daten_Gruppenvergleich/new/trimmed_wrong_removed"),
file.path(base_path, "Daten_Gruppenvergleich/new/not_trimmed_not_removed")
)
# Create a function to generate the filename based on parameters
generate_filename_out <- function(outliers_removed) {
outliers_text <- ifelse(outliers_removed == "yes", "outliers-removed", "outliers-not-removed")
paste0("Calculate_BIS_", outliers_text,".html")
}
for (outliers_removed in outliers_removed_options) {
for (input_data_path in input_data_path_options){
params_list <- list(outliers_removed = outliers_removed, input_data_path = input_data_path)
output_filename <- generate_filename_out(outliers_removed)
outliers_text <- ifelse(outliers_removed == "yes", "outliers-removed", "outliers-not-removed")
output_path = file.path(input_data_path, "BIS", outliers_text, output_filename)
rmarkdown::render(
input <- file.path(base_path, "EF_scores_calculation_correct_TA.Rmd"),
output_file = output_path,
params = params_list,
envir = new.env()
)
cat("Generated file:", output_filename, "/n")
}
}
# General further processing
inputdata_variants_paths <- c(
file.path(base_path, "Daten_Gruppenvergleich/new/not_trimmed_not_removed/BIS/outliers-not-removed"),
file.path(base_path, "Daten_Gruppenvergleich/new/not_trimmed_not_removed/BIS/outliers-removed"),
file.path(base_path, "Daten_Gruppenvergleich/new/trimmed_wrong_removed/BIS/outliers-not-removed"),
file.path(base_path, "Daten_Gruppenvergleich/new/trimmed_wrong_removed/BIS/outliers-removed")
)
# Group comparison script (HC vs. patients)
generate_filename <- function(input_data_path,prefix) {
last_folder <- basename(input_data_path)
# Get the grandparent directory of the path
parent_dir <- dirname(input_data_path)
grandparent_dir <- dirname(parent_dir)
# Get the second-to-last folder
third_last_folder <- basename(grandparent_dir)
paste0(prefix, third_last_folder, "_", last_folder,".html")
}
for (input_data_path in inputdata_variants_paths) {
params_list <- list(input_data_path = input_data_path)
output_filename <- generate_filename(input_data_path, prefix = "HC_vs_patients_")
output_data_path <- file.path(parent_path, "1_Group_comparison")
output_path = file.path(output_data_path, output_filename)
rmarkdown::render(
input = "Group Comparison_Healthy Controls Patients.Rmd",
output_file = output_path,
params = params_list,
envir = new.env()
)
cat("Generated file:", output_filename, "/n")
}
basename(file.path("","p1","p2","p3", c("file1", "file2")))
dirname(file.path("","p1","p2","p3","filename"))
basename(file.path("Y:/PsyThera/Projekte_Meinke/Old_projects/Labrotation_Rebecca/0_Datapreparation", "Daten_Gruppenvergleich/new/not_trimmed_not_removed/BIS/outliers-not-removed"))
dirname(file.path("Y:/PsyThera/Projekte_Meinke/Old_projects/Labrotation_Rebecca/0_Datapreparation", "Daten_Gruppenvergleich/new/not_trimmed_not_removed/BIS/outliers-not-removed"))
dirname("Y:/PsyThera/Projekte_Meinke/Old_projects/Labrotation_Rebecca/0_Datapreparation/Daten_Gruppenvergleich/new/not_trimmed_not_removed/BIS")
basename("Y:/PsyThera/Projekte_Meinke/Old_projects/Labrotation_Rebecca/0_Datapreparation/Daten_Gruppenvergleich/new/not_trimmed_not_removed")
paste0("HC_vs_patients_", "not_trimmed_not_removed", "_", "outliers-not-removed",".html")
